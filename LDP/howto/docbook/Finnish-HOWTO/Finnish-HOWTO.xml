<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet href="/usr/share/sgml/docbook/stylesheet/xsl/ldp/ldp-html-chunk.xsl" type="text/xsl"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
     "http://docbook.org/xml/4.1.2/docbookx.dtd" [
<!ENTITY ch-locales SYSTEM "ch-locales.xml">
]>
<book lang="fi">
<bookinfo>
        <title>Finnish HOWTO</title>
        <date>April 9th, 2002</date>
        <author>
                <firstname>Ari</firstname>
                <surname>Mäkelä</surname>
                <affiliation>
                        <address>
                                <email>hauva@arska.org</email>
                        </address>
                </affiliation>
        </author>

        <revhistory>
		<revision>
			<revnumber>v.2.0.29</revnumber>
			<date>2005-01-05</date>
			<authorinitials>am</authorinitials>
			<revremark>
				Changed the license to dual GPL and GFDL.
				OpenOffice in Finnish in Debian.
				Language corrections.
				More verbose "why fi-latin[19] and not fi?".
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.28</revnumber>
			<date>2004-11-23</date>
			<authorinitials>am</authorinitials>
			<revremark>
				Fixed broken link to lyhyt2e.ps.
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.27</revnumber>
			<date>2004-11-19</date>
			<authorinitials>am</authorinitials>
			<revremark>
				How to use comma instead of dot in floating point numbers 
				with tex.
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.26</revnumber>
			<date>2004-10-19</date>
			<authorinitials>am</authorinitials>
			<revremark>
				"Scandinavian letters do not work in program foo. What should I do?"
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.25</revnumber>
			<date>2004-08-26</date>
			<authorinitials>am</authorinitials>
			<revremark>
				SuSE and UTF-8.
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.24</revnumber>
			<date>2004-08-11</date>
			<authorinitials>am</authorinitials>
			<revremark>
				Clearer fi-latin[19] section.
	                        Removed obsolete euro.inc.gz.
	                        Fixed the broken Euro Character mini-HOWTO link.
                                Better explanation for LC_ALL.
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.23</revnumber>
			<date>2004-03-10</date>
			<authorinitials>am</authorinitials>
			<revremark>
				Updated the tcsh section.
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.22</revnumber>
			<date>2004-03-03</date>
			<authorinitials>am</authorinitials>
			<revremark>
				Removed "export" from Debian
				/etc/environment.
			</revremark>
		</revision>
		<revision>
			<revnumber>v.2.0.21</revnumber>
			<date>2003-11-24</date>
			<authorinitials>am</authorinitials>
			<revremark>
				lang="fi" attribute to the book element.
				Language corrections.
			</revremark>
		</revision>
	    <revision>
		<revnumber>v.2.0.20</revnumber>
		<date>2003-01-09</date>
		<authorinitials>am</authorinitials>
		<revremark>
	         Debian needs xfonts-.*-transcoded packages in order to work
		 properly.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.19</revnumber>
		<date>2002-12-29</date>
		<authorinitials>am</authorinitials>
		<revremark>
	         Added RH 8.1 beta and recode example to UTF-8 chapter.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.18</revnumber>
		<date>2002-11-27</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 loadkeys no more uses the exact file name but fi-latin1.
		 fi-latin9 keymap is now mentioned.
		 Added LC_PAPER to locales section.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.17</revnumber>
		<date>2002-11-27</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 Fixed emacs euro support.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.16</revnumber>
		<date>2002-11-27</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 Red Hat 8 UTF-8 support.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.15</revnumber>
		<date>2002-05-09</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 Added a DocBook XSL tag - because I want to try AxKit on
		 arska.org Finnish HOWTO page.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.14</revnumber>
		<date>2002-05-03</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 Less obscure description of dead keys in X.
		</revremark>
	    </revision>
	    <revision>
		<revnumber>v.2.0.13</revnumber>
		<date>2002-04-09</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 Less obscure description of LC_MESSAGES.
		 Fixed an XML structure error in the locales table.
		 Fixed the forgotten bookinfo date.
		</revremark>
	    </revision>
	    <revision>
	    	<revnumber>v2.0.12</revnumber>
		<date>2002-04-06</date>
		<authorinitials>am</authorinitials>
		<revremark>
		 More irc stuff.
		 Added set convert-meta off to readline section.
		 Updated Debian specific information to Debian 3.0.
		 More keymap stuff.
		 Removed Red Hat 5.2 stuff.
		 Changed the example locales to fi_FI@euro.
		 Added KDE, Gnome and Emacs to the Euro section.
		 Added fi_FI@euro to the elm section.
		 Added the Debian 3.0 way of locales to the locales section.
		</revremark>
	    </revision>
            <revision>
               <revnumber>v2.0.11</revnumber>
               <date>2002-02-24</date>
               <authorinitials>am</authorinitials>
               <revremark>
                More Euro-support links, updated the KDE link.
	        Added "convert-meta off" to bash.
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.10</revnumber>
               <date>2001-10-04</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Fixed emacsen on console.
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.9</revnumber>
               <date>2001-10-04</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Fixed title of elm-ME+ title from elm to elm-ME+ 
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.8</revnumber>
               <date>2001-09-26</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Corrected the erraneous revhistory order.
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.7</revnumber>
               <date>2001-09-26</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Fixed a typo in euro support.
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.6</revnumber>
               <date>2001-09-26</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Added euro support.
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.5</revnumber>
               <date>2001-09-14</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Fixed locale example.
                Fixed some typos.
                Fixed some mark-up errors.
                Added irc and elm-me+
               </revremark>
            </revision>
            <revision>
               <revnumber>v2.0.4</revnumber>
               <date>2001-07-18</date>
               <authorinitials>am</authorinitials>
               <revremark>
                Completely rewritten.
               </revremark>
            </revision>
        </revhistory>

        <abstract>
                <title>Abstract</title>
                <para>
		This document describes how to localize GNU/Linux for
		Finnish users and is intended to replace Pekka
		Taipale's original Finnish-HOWTO which has not been
		updated for some time. This document derives from
		original Finnish HOWTO and more importantly from the
		Danish-HOWTO by Niels Kristian Bech Jensen.
                </para>
                <para>
                Language of the HOWTO is Finnish. Non-Finnish users
                should consult Danish HOWTO which is not in Danish but
                in English.
                </para>
        </abstract>
</bookinfo>

<toc></toc>

<chapter id="intro">
<title>Johdanto</title>

<sect1 id="whatis">
<title>Mikä on HOWTO?</title>

<para>
Tämän dokumentin tarkoituksen on antaa ohjeet GNU/Linuxin
asetusten suomalaistamiseksi asennuksen
jälkeen. Lähtökohtana on tekijän
käyttämä <emphasis>Debian GNU/Linux</emphasis> (kirjoitushetkellä
versio 3.0), mutta dokumentista on todennäköisesti
hyötyä myös muiden jakeluiden käyttäjille,
vaikka erityisesti erilaisten käynnistysskriptien nimet ja paikat
vaihtelevat eri distribuutioiden välillä hyvinkin paljon.
</para>

<para>
GNU/Linux on muuttunut paljon sitten Pekka Taipaleen alkuperäisen
Finnish-HOWTO:n: sen asentaminen on muuttunut helpommaksi ja asetukset
ovat entistä useammin valmiiksi oikein, mutta aina näin ei
ole eikä suinkaan ole haitaksi tietää miten GNU/Linuxin
kieliasetukset toimivat.
</para>

<para>
GNU/Linux on entistä useammin palvelinkäytossä ja siksi
on entistä tärkeämpää huomata <filename>/etc</filename>-hakemiston
alla olevien konfiguraatiotiedostojen ero verrattuna
käyttäjien kotihakemistoissa oleviin
konfiguraatiotiedostoihin. Asetukset, joiden on tarkoitus olla
kaikilla voimassa on syytä olla <filename>/etc</filename>-hakemistossa.
</para>

</sect1>

<sect1 id="latest">
<title>Mistä löydän Finnish HOWTO:n viimeisen version?</title>

<para>
HOWTO:n virallinen kotisivu on <ulink 
url="http://arska.org/finnish-howto/">
http://arska.org/finnish-howto/</ulink> vaikka myös 
<ulink url="http://www.tlpd.org/">Linux Documentation Project</ulink> 
levittää sitä niin se on usein huomattavasti vanhempi kuin viralliselta 
kotisivulta löytyvä versio.
</para>

</sect1>

<sect1 id="whatisnot">
<title>Mitä tämä dokumentti ei käsittele?</title>

<para>
Dokumentti ei lokaalien osalta käsittele
GNU/Linux-järjestelmiä, jotka käyttävät
C-kirjaston versiota viisi tai vanhempia. 
Valtajakelut käyttävät C-kirjaston versiota kuusi, joka tunnetaan
paremmin nimellä glibc2.
(Debian ja Red Hat vaihtoivat C-kirjastonsa versioissa
Debian GNU/Linux 2.0 ja Red Hat Linux 5.0).
</para>

<para>
Dokumentti ei käsittele XFree86:n versiota 3.2 vanhempia versioita.
</para>
</sect1>

<sect1 id="copyright">
<title>Tekijänoikeuksista ja kopioinnista</title>

<para>
Dokumenttia saa muuttaa ja levittää <emphasis>GNU Free Documentation
License</emphasis> version 1.1 ehtojen mukaisesti tai vaihtoehtoisesti 
GNU General Public Licensen version 2, tai minkä tahansa myöhemmän version, 
mukaisesti. Dokumentin lähteinä
ovat toimineet erityisesti <emphasis>Niels Kristian Bech Jensenin
Danish-HOWTO</emphasis> ja jossain määrin <emphasis>Pekka Taipaleen
Finnish HOWTO v. 1.1f</emphasis>.
</para>

<para>
Tekijä ei vastaa mahdollisista virheistä, mutta ottaa korjaus- ja
parannusehdotuksia mielellään vastaan osoitteeseen <email>hauva@iki.fi</email>.
</para>
</sect1>

<sect1 id="markup">
<title>Tekstin esitystavasta</title>

<para>
Dokumentti on kirjoitettu DocBookin XML-versiolla, josta on tuotettu
muut versiot.
</para>

</sect1>

<sect1 id="thanks">
<title>Kiitokset</title>

<para>
Kiitän kaikkia minulle meilitse ja uutisryhmässä sfnet.atk.linux
kommentteja esittäneitä ihmisiä.
</para>

</sect1>

</chapter>

<chapter id="keyboard">
<title>Näppäimistöasetukset</title>

<para>
Konsolilla näppäimistöasetukset asetetaan <command>loadkeys</command>
ja <emphasis>X Window System</emphasis>issä <command>xmodmap</command>
komennolla.
</para>

<sect1 id="charset">
<title>Merkistö</title>

<para>
Suomalaistettu GNU/Linux käyttää kansainvälistä
<emphasis>ISO-8859-1</emphasis>- eli
<emphasis>Latin-1</emphasis>-merkistöä tai <emphasis>ISO-8859-15</emphasis>-
eli <emphasis>Latin-9</emphasis>-merkistöä.
Tämän määritteleminen ei ole aina välttämätöntä, mutta monet tärkeät 
ohjelmat vaativat sen asettamisen.
</para>

<para>
<emphasis>ISO-8859-15</emphasis>-merkistöä, joka tukee <emphasis>euro
</emphasis>-merkkiä, kutsutaan joskus myös nimellä <emphasis>Latin-0
</emphasis>
</para>

<sect2 id="loading_keymap">
<title>Näppäimistökartan lataaminen</title>

<sect3 id="console_keymap">
<title>Konsolissa</title>

<para>Näppäimistökartan voi ladata käskyllä

<command>
	loadkeys fi-latin1
</command>

tai jos <emphasis>kbd on 1.08</emphasis> tai uudempi voidaan käyttää 
myös komentoa

<command>
	loadkeys fi-latin9
</command>

</para>

<para>
Joissakin jakeluissa näppäimistökartan nimessä on
<filename>.map.gz</filename> päätteen sijasta
<filename>.kmap.gz</filename> pääte. Näppäimistökarttojen sijainnissa
on eroja eri distribuutioiden välillä. Näppäimistökartat löytää
esimerkiksi käskyllä

<command>
	find /usr -name '*latin1.*map*' -print
</command>
</para>

<para>
On syytä huomata, että oikea näppäimistökartta on <emphasis>fi-latin1
</emphasis> tai <emphasis>fi-latin9</emphasis> eikä <emphasis>fi</emphasis>,
joka on vanha 7-bittinen näppäimistökartta.
</para>

<para>
Debian GNU/Linuxissa loadkeys ajetaan käynnistyksen aikana skriptistä
<filename>/etc/init.d/keymap.sh</filename>. Näppäimistökartan voi 
vaihtaa komennolla <command>/usr/sbin/install-keymap</command>.
</para>

<para>
Red Hatissa käynnistyksen
aikana suoritetaan yleensä
<filename>/etc/rc.d/init.d/keytable</filename> -skripti. Tämä skripti
lukee <filename>/etc/sysconfig/keyboard</filename> -tiedoston, jossa
määritellään käytettävä näppäimistökartta. Näppäimistön ollessa
suomenkielinen tietosto sisältää sauraavan rivin:

<screen>
	KEYTABLE=fi-latin1
</screen>
</para>
</sect3>

<sect3 id="keymap_xfree86_3">
<title>XFree86 3</title>

<para>
<emphasis>XFree86 3.2</emphasis>:ssa ja uudemmissa
<filename>/etc/X11/XF86Config</filename>-tiedostossa pitäisi olla
<emphasis>Keyboard section</emphasis> -kohdassa seuraavat rivit:
</para>

<screen>
	Section "Keyboard"
	   Protocol        "Standard"
	   XkbRules        "xfree86"
	   XkbModel        "pc102"
	   XkbLayout       "fi"
	   XkbVariant      "nodeadkeys"
	EndSection
</screen>

<para>
Näitä, kuten monia muitakin, asetuksia voi muokata omien mieltymyksien 
mukaan ja alla on esimerkkinä Debian GNU/Linux 2.2 (tätä
kirjoitettaessa kyseessä oli vielä kehitysversio) "Keyboard Section:"
</para>

<screen>
	Section "Keyboard"
	   Protocol        "Standard"
	   AutoRepeat      500 30
	   LeftAlt         Meta
	   RightAlt        Meta
	   ScrollLock      Compose
	   RightCtl        Control
	   XkbKeycodes     "xfree86"
	   XkbTypes        "default"
	   XkbCompat       "default"
	   XkbSymbols      "us(pc101)"
	   XkbGeometry     "pc"
	   XkbRules        "xfree86"
	   XkbModel        "pc102"
	   XkbLayout       "fi"
	EndSection
</screen>

<para>
Lisätietoja XF86Config-tiedoston manuaalisivulta.
</para>
</sect3>

<sect3 id="keymap_xfree86_4">
<title>XFree86 4</title>

<para>
XFreen versiossa neljä on hiukan erilaiset näppäimistöasetukset, joista tässä 
esimerkki:
</para>

<screen>
Section "InputDevice"
        Identifier      "Generic Keyboard"
        Driver          "keyboard"
        Option          "CoreKeyboard"
        Option          "XkbRules"      "xfree86"
        Option          "XkbModel"      "pc105"
        Option          "XkbLayout"     "fi"
        Option          "XkbVariant"    "nodeadkeys"
EndSection
</screen>

</sect3>

</sect2>

<sect2 id="dead_keys">
<title>Kuolleet näppäimet</title>

<para>
Kuolleet näppäimet ovat näppäimiä, joiden
painaminen ei tulosta mitään ruudulle ennenkuin painetaan
toista näppäintä. Mm. <emphasis>tilde, ~</emphasis>, on tällainen
näppäin. Kuolleita näppäimiä tarvitaan useammasta kuin yhdestä merkistä 
koostuvien merkkien kuten <emphasis>ñ</emphasis> tai 
<emphasis>é</emphasis> kirjoittamiseen.
</para>

</sect2>

</sect1>

</chapter>

<chapter>
<title>UTF-8</title>

<para>
UTF-8 on <ulink url="http://www.unicode.org/">Unicoden</ulink> 
muoto, jolla voi kirjoittaa käytännössä mitä tahansa
maailmassa puhuttavaa kieltä ja siihen on varattu tilaa symboleille kuten 
shakkinappulat ja sillä voi jopa kirjoittaa Tolkienin <emphasis>
Tengwar</emphasis>-kirjaimilla.
</para>

<para>
Vaikka UTF-8 tuottaakin siirtymävaiheessa ongelmia muille kuin 
amerikanenglantia kirjoittaville niin se on ehdoton edellytys 
maailmanlaajuisesti toimivalle lokalisaatiolle.
</para>

<sect1>
<title>Tekstitiedostojen konvertointi UTF-8:ksi</title>

<para>
Tekstitiedostoja voi konvertoida <command>recode</command>-komennolla
esimerkiksi näin:

<screen>
$ recode Latin1..UTF-8 foo.dtd
</screen>
</para>

</sect1>

<sect1>
<title>Red Hat ja UTF-8</title>

<para>
Red Hat otti käyttöön UTF-8 -merkistön 8-sarjassaan. Alla esitetty korjaus 
on helppo, mutta oikeastaan <emphasis>väärä</emphasis> tapa korjata ongelma:
sen sijaan, että siirryttäisiin UTF-8:iin palataan yksitavuiseen merkistöön. 
Oikea tapa korjata asia on jättää lokaalit UTF-8-lokaaleiksi muuten kuin 
meilin ja nyyssien suhteen.
</para>

<sect2>
<title>Red Hat 8.0</title>
<para>
Red Hat 8.0 on tätä kirjoitettaessa ainut distribuutio, joka käyttää 
oletuksena UTF-8-lokaaleja. Jotta se toimisi moitteettomasti normaalissa
työpöytäkäytössä tiedostoon <filename>/etc/sysconfig/i18n</filename>
pitää tehdä seuraavat muutokset:

<screen>
LANG="fi_FI@euro"
SUPPORTED="en_US:en:fi_FI@euro:fi_FI:fi"
SYSFONT="lat0-16"
SYSFONTACM="iso15"
</screen>
</para>
</sect2>

<sect2>
<title>Red Hat 8.1 beta Phoebe</title>

<para>
Phoeben vaatimat asetukset ovat hiukan erilaisia kuin Red Hat 8.0:n:

<screen>
LANG="C"
SUPPORTED="en_US:en:fi_FI@euro:fi_FI:fi"
SYSFONT="lat0-16"
</screen>
</para>
</sect2>
</sect1>

<sect1>
<title>Debian GNU/Linux ja UTF-8</title>

<para>
Käyttäjien, jotka haluavat käyttää UTF-8:ia yhdessä Debianin kanssa,
kannattaa tutustua dokumenttiin <ulink 
url="http://melkor.dnp.fmph.uniba.sk/~garabik/debian-utf8/HOWTO/howto.html">
Step by step introduction to switching your debian installation to utf-8 
encoding</ulink>.
</para>

</sect1>

<sect1>
<title>SuSE ja UTF-8</title>

<para>
SuSE siirtyi UTF-8 oletukseen versiossa 9.1. Jos sen haluaa vaihtaa niin sen voi tehdä YaST:illa 
seuraavasti: Yast2 -> System -> Sysconfig editor -> Search -> RC_LANG.
</para>
</sect1>

</chapter>

<chapter>
<title>
Fontit
</title>

<sect1>
<title>Debian ja X Window Systemin fontit</title>

<para>
Debianin versiossa 3.0 merkistöt, joita tarvitaan suomen kirjoittamiseen,
siirrettiin fonttipaketteihin, joiden nimessä on sana transcoded. Ne, tai osa
niistä, pitää asentaa, jotta mm. <emphasis>Gnome</emphasis> sovellukset 
toimivisivat.

<screen>
$ apt-cache search transcoded | egrep font
xfonts-base-transcoded - standard fonts for X (transcoded from ISO 10646-1)
xfonts-75dpi - 75 dpi fonts for X
xfonts-100dpi-transcoded - 100 dpi fonts for X (transcoded from ISO 10646-1)
xfonts-base - standard fonts for X
xfonts-100dpi - 100 dpi fonts for X
xfonts-75dpi-transcoded - 75 dpi fonts for X (transcoded from ISO 10646-1)
</screen>
</para>

</sect1>

</chapter>

<chapter id="screen_and_programs">
<title>Näytön ja ohjelmien asetukset</title>

<para>
Jotkin ohjelmat pitää kääntää "8-bit-clean", jotta ne toimisivat
hyvin skandinaavisilla merkeillä. Jotkin ohjelmat tarvitsevat muitakin 
asetuksia.
</para>

<sect1 id="broken_scandinavian_letters">
<title>"Skandini eivät toimi. Mitä teen?"</title>

<para>
<itemizedlist>
<listitem>
<para>
Tarkista <ulink url="http://arska.org/finnish-howto/html/#locale_settings">lokaaliasetuksesi</ulink>. 
Toimiiko ohjelma oikein jos käynnistät sen komennolla
<emphasis>LC_ALL=fi_FI ohjelman_nimi</emphasis>?. Tarkista mitä tulostaa komento <emphasis>locale</emphasis>.
</para>
</listitem>
<listitem>
<para>
Jos käyttämästi ohjelma on komentoriviohjelma ja komentotulkkisi on <emphasis>bash</emphasis>, 
joka on linuxin oletus, tarkista 
<ulink url="http://arska.org/finnish-howto/html/index.html#bash">readline-kirjaston</ulink> asetukset.
</para>
</listitem>
<listitem>
<para>
Tarkista löytyykö käyttämäsi ohjelma 
<ulink url="http://arska.org/finnish-howto/html/index.html#program_keymap_settings">
niiden ohjelmien</ulink>
joukosta, joille oikea lokaali ei riitä.
</para>
</listitem>
</itemizedlist>
</para>

</sect1>

<sect1 id="locale_settings">
<title>Locale-asetukset</title>

<para>
Debianissa lokaaliasetukset asetetaan tiedostoon <filename>/etc/environment
</filename> ja Red Hatissa tiedostoon 
<filename>/etc/sysconfig/i18n</filename>
</para>

<sect2 id="locale_settings_debian">
<title>Debian</title>

<screen>
LANG=C
LC_CTYPE=fi_FI@euro
LC_PAPER=fi_FI@euro
LESSCHARSET=latin1
</screen>
</sect2>

<sect2 id="locale_settings_rh">
<title>Red Hat</title>

<screen>
LANG=C
LC_CTYPE=fi_FI@euro
LC_PAPER=fi_FI@euro
LESSCHARSET=latin1
export LANG LC_CTYPE LESSCHARSET 
</screen>

</sect2>

</sect1>

<sect1 id="euro">
<title>Euro-merkki</title>

<para>
Uusi merkistö, <emphasis>ISO-8859-15</emphasis> eli
<emphasis>latin9</emphasis>, jota hämmennyksen maksimoimiseksi usein
myös latin0:ksi kutsutaan, on luotu korvaamaan
<emphasis>ISO-8859-1</emphasis> (latin1) ja se tarjoaa Euroopan
unionin yhteisen rahayksikön euro- ja senttimerkit.
</para>

<para>
Euro löytyy näppäinyhdistelmällä <emphasis>AltGr-e</emphasis>. Sentti
löytyy näppäinyhdistelmän <emphasis>AltGr-Shift-e</emphasis> takaa
X:ssä ja konsolissa oikea näppäinyhdistelmä on
<emphasis>AltGr-c</emphasis>. Senttejä ei kuitenkaan normaalisti käytetä.
</para>

<para>
Tämä luku on erityisen Debian-painoitteinen, mutta sen ohjeilla saanee myös
muut distrot toimimaan, mutta se vaatinee normaalia enemmän luovuutta.
</para>

<sect2 id="locales_euro">
<title>Euro ja lokaalit</title>

<para>
glibc 2.2 ja uudemmat tukevat euroa. Oikea lokaaliarvo on <emphasis>
fi_FI@euro</emphasis>. 
</para>

</sect2>

<sect2 id="console_euro">
<title>Euro konsolissa</title>

<para>
Distribuutiosta riippuen pitää ladata konsolifontti, joka tukee euroa
joko komennolla <command>setfont</command> (RH-johdannaiset) tai
<command>consolechars</command> (Debian-johdannaiset). 
</para>

<para>
Debianissa muokataan tiedostoa <filename>
/etc/console-tools/config</filename> siten, että poistetaan kommenttimerkki 
<envar>SCREEN_FONT</envar>:
<screen>
SCREEN_FONT=lat0-16
</screen>
</para>

<para>
Red Hatissa asetetaan tiedoon <filename>/etc/sysconfig/i18n</filename> rivit
<screen>
SYSFONT=lat0-16
SYSFONTACM=iso15
</screen>
</para>

</sect2>

<sect2 id="euro_x">
<title>Euro X Window Systemissä</title>

<para>
<emphasis>AltGr-e</emphasis> tuottaa normaaliasetuksilla geneerisen
valuuttasymbolin, joka näyttää nelijalkaiselta hämähäkiltä. Kun
sovelluksen käyttämä fontti vaihdetaan ISO-8859-15-fontiksi niin sen 
tilalle tulee euro. Debianissa tämän voi tehdä lisäämällä tiedostoon 
<filename>/etc/X11/app-defaults/XTerm</filename> esimerkiksi rivi
<screen>
.XTerm.VT100.font: -jmk-neep alt-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</screen>
</para>

<para>
Mikäli AltGr-e ei toimi lisää tiedostoon <filename>/etc/X11/Xmodmap</filename>
rivi
<screen>
keycode 26 = e E EuroSign
</screen>
</para>

</sect2>

<sect2>
<title>KDE</title>

<para>
Vaihda KControlissa fonttiasetus ISO-8859-15-merkistöksi.
</para>
</sect2>

<sect2>
<title>GTK ja Gnome</title>

<para>
Vaihda Gnome Control Centerissä fonttiasetus ISO-8859-15-merkistöksi.
</para>

<para>
Parempi tapa tehdä tämä on vaihtaa GTK+:n konfiguraatiota komennoilla
</para>

<screen>
cd /etc/gtk
ln -s gtkrc.iso-8859-15 gtkrc
</screen>

</sect2>

<sect2 id="euroemacs">
<title>Emacs</title>

<para>
Emacs 21 ja uudemmat tukevat euroa seuraavalla <emphasis>
elisp</emphasis>-asetuksella:
</para>

<screen>
 (set-language-environment "Latin-9")
</screen>

</sect2>

<sect2 id="eurolinks">
<title>Euro-linkkejä</title>
<itemizedlist>
<listitem>
<para>
<ulink url="http://www.koffice.org/kword/euro.phtml">KDE-projektin euro-sivut
</ulink>.
</para>
</listitem>
<listitem>
<para>
<ulink url="http://www.debian.org/doc/manuals/debian-euro-support/">
Debian Euro HOWTO
</ulink>.
</para>
</listitem>
<listitem>
<para>
<ulink url="http://www.tldp.org/HOWTO/mini/Euro-Char-Support/index.html">
Euro Character Support mini HOWTO
</ulink>.
</para>
</listitem>
</itemizedlist>

</sect2>

</sect1>

<sect1 id="printable_chars">
<title>Merkit, joita voidaan näyttää GNU/Linuxissa</title>

<para>
Komento

<command>
	dumpkeys -l | less
</command>

näyttää käytettävissä olevat merkit.
</para>

</sect1>

<sect1 id="program_keymap_settings">
<title>Ohjelmakohtaiset merkistöasetukset</title>

<para>
Monet ohjelmat vaativat erityisasetuksia toimiakseen. Esimerkiksi <emphasis>GNU
readline</emphasis> -kirjastoa käyttävät kirjastot lukevat <filename>
/etc/inputrc</filename>- tai
<filename>~/.inputrc</filename>-tiedostot käynnistyessään. 
Mm. <command>bash</command> ja <emphasis>MySQL</emphasis>:n
komentoriviasiakas käyttävät tätä kirjastoa.
</para>

<para>
Ennen ohjelmakohtaisia asetuksia on kuitenkin syytä säätää lokaalit
kuntoon. Ongelmat häviävät usein jo tällön.
</para>

<sect2 id="bash">
<title>bash</title>

<para>
Tiedostoon <filename>/etc/inputrc</filename> tai <filename>~/.inputrc
</filename> seuraavat rivit:
</para>

<screen>
	set input-meta on
	set output-meta on
</screen>

<para>
Jotkin järjestelmät vaativat lisäksi asetuksen
</para>

<screen>
	  set convert-meta off
</screen>

</sect2>

<sect2 id="elm">
<title>elm</title>

<para>
Tiedostoon <filename>~/.elm/elmrc</filename> seuraavat rivit:
</para>

<screen>
	charset = iso-8859-1
	displaycharset = iso-8859-1
	textencoding = 8bit
</screen>

<para>
Tämä ei välttämättä toimi kaikkien elm-versioiden kanssa.  Osittaisen
<emphasis>MIME</emphasis>-tuen saa elmiin
<emphasis>metamail</emphasis>-paketin avulla.
</para>

</sect2>

<sect2 id="elm-me-plus">
<title>elm-ME+</title>

<para>
Lisää tiedostoon <filename>/etc/elm-me/elm.mimecharsets</filename> 
seuraava rivit:
</para>

<screen>
fi_FI ISO-8859-1
fi_FI@euro ISO-8859-15
</screen>

</sect2>

<sect2 id="emacs">
<title>emacs</title>

<para>
Nykyiset Emacsit toimivat oikein X Window Systemissä kunhan
lokaaliasetukset ovat kunnossa. Konsolissa tai <emphasis>-nw</emphasis>
valitsimella käynnistettynä näin ei kuitenkaan ole vaan <filename>
~/.emacs</filename>-tiedostoon pitää lisätä seuraava rivi:
</para>

<screen>
(set-input-mode nil nil 'foo)
</screen>

<sect3 id="gnus">
<title>Gnus</title>

<para>
Gnus toimii merkistöjen osalta oikein ilman muutoksia <emphasis>GNU
Emacsin</emphasis> ja <emphasis>XEmacsin</emphasis> uudempien versioiden 
kanssa, mikäli näihin on käännetty mukaan <emphasis>monikielisyyslaajennukset
(MULE, Multi-lingual enhancements)</emphasis> ja järjestelmän lokaaliasetukset
on konfiguroitu oikein.
</para>

<para>
Muussa tapauksessa lisätään tiedostoon <filename>~/.gnus</filename>:
</para>

<screen>
         (setq gnus-default-posting-charset 'iso-8859-1)
         (setq message-default-charset 'iso-8859-1)
</screen>

</sect3>

<sect3 id="vm">
<title>vm</title>

<para>
Lisää tiedostoon <filename>~/.vm</filename>

<screen>
	(setq vm-mime-8bit-text-transfer-encoding '8bit)
</screen>
</para>

</sect3>
</sect2>

<sect2 id="irc">
<title>irc ja sen johdannaiset</title>
<para>
Lisätään tiedostoon <filename>/etc/irc/script/local</filename> 
rivit tai kirjoitetaan ne komentokehotteeseen:

<screen>
set EIGHT_BIT_CHARACTERS on 
set TRANSLATION LATIN_1 
</screen>
</para>

</sect2>

<sect2 id="groff">
<title>groff</title>

<para>
Käynnistetään groff käskyllä

<command>
	groff -Tlatin1 &lt;input-tiedosto&gt;
</command>
</para>

</sect2>

<sect2 id="joe">
<title>joe</title>

<para>
Käynnistetään joe käskyllä

<command>
	joe -asis
</command>

tai lisätään tiedostoon <filename>~/.joerc</filename>
</para>

<screen>
	-asis
</screen>

</sect2>

<sect2 id="kermit">
<title>kermit</title>

<para>
Epätäydellinen, mutta varsin toimiva <filename>~/kermrc</filename>:
</para>

<screen>
        set terminal bytesize 8
        set command bytesize 8
        set file bytesize 8
        set language finnish
        set file character-set latin1-iso
        set transfer character-set latin1-iso
        set terminal character-set latin1-iso	
</screen>

<para>
Asetuksia on muutettava jos remote host on
käyttöjärjestelmältään DOS tai OS/2.
</para>

</sect2>

<sect2 id="less">
<title>less</title>

<para>
Asetetaan ympäristömuuttuja:
<envar>
	LESSCHARSET=latin1
</envar>
Tämä ei ole välttämätöntä, jos järjestelmä tukee lokaaleja. Tällöin
voidaan myös asettaa ympäristömuuttujien <envar>LANG</envar>,
<envar>LC_CTYPE</envar> tai <envar>LC_ALL</envar> arvo.
</para>

</sect2>

<sect2 id="ls">
<title>ls</title>

<para>
<command>ls</command> toimii oikein kunhan lokaaliympäristömuuttuja <envar>
LC_CTYPE</envar>, <envar>LANG</envar> tai <envar>LC_ALL</envar> on asetettu.
</para>

</sect2>

<sect2 id="links">
<title>links</title>

<para>
Lisätään tiedostoon <filename>~/.links/.links.cfg</filename> rivi 
</para>

<screen>
	terminal2 "linux" 0 0 0 0 ISO-8859-1
</screen>

</sect2>

<sect2 id="lynx">
<title>lynx</title>

<para>
Tiedostoon <filename>~/.lynxrc</filename> seuraava rivi:
</para>

<screen>
	character_set=ISO Latin 1
</screen>

<para>
Tämän voi asettaa myös tiedostossa <filename>/etc/lynx.cfg</filename> tai 
lynxin <emphasis>Options</emphasis> -valikossa.
</para>

</sect2>

<sect2 id="man">
<title>man</title>

<para>
Katso <xref linkend="groff"/> groff.
</para>

</sect2>

<sect2 id="metamail">
<title>metamail</title>

<para>
Asetetaan ympäristömuuttuja
<envar>
	MM_CHARSET=ISO-8859-1
</envar>
</para>

</sect2>

<sect2 id="nn">
<title>nn</title>

<para>
Tiedostoon <filename>~/.nn/init</filename> seuraava rivi:
</para>
<screen>
	set data-bits 8
</screen>

</sect2>

<sect2 id="openofficedebian">
<title>OpenOffice Debian GNU/Linuxissa</title>

<para>
Kunhan lokaalit on asetettu suomalaisiksi suomenkielisen OpenOfficen saa kun 
asentaa paketin <emphasis>openoffice.org-l10n-fi</emphasis>.
</para>
</sect2>

<sect2 id="pine">
<title>pine</title>

<para>
Tiedostoon <filename>~/.pinerc</filename> seuraava rivi:
</para>

<screen>
	character-set=ISO-8859-1
</screen>

<para>
Tämä voidaan asettaa myös pinen <emphasis>Setup | Config</emphasis> -menussa.
pinen news-asetukset ovat:
</para>

<screen>
	enable-8bit-esmtp-negotiation
	enable-8bit-nntp-posting
</screen>

</sect2>

<sect2 id="rlogin">
<title>rlogin</title>

<para>
Käynnistetään rlogin käskyllä
<command>
	rlogin -8 foo.bar.fi
</command>
</para>

</sect2>

<sect2 id="sendmail">
<title>sendmail</title>

<para>
Lisätään tiedostoon <filename>/etc/sendmail.mc</filename> rivi
</para>

<screen>
	define(`confEIGHT_BIT_HANDLING', `mimefy')dnl
</screen>

<para>
tai lisätään <filename>/etc/sendmail.cf</filename>:ään rivit:
</para>

<screen>
	O EightBitMode=mimefy
</screen>

</sect2>

<sect2 id="tcsh">
<title>tcsh</title>

<para>
Lisätään tiedostoon <filename>/etc/csh.login</filename> tai <filename>~/.login
</filename> rivi
</para>

<screen>
	setenv LC_CTYPE fi_FI@euro
</screen>

</sect2>

<sect2 id="telnet">
<title>telnet</title>

<para>
Lisätään tiedostoon <filename>~/.telnetrc</filename> rivi jokaista remote 
hostia kohden:
</para>

<screen>
	hostname set outbinary true
</screen>

</sect2>

<sect2 id="tex_latex">
<title>TeX/LaTeX</title>

<para>
Aja ensin <command>texconfig</command>. Valitse <emphasis>hyphenation -> latex
</emphasis> ja poista
kommentointi <emphasis>finnish</emphasis> -sanan edestä sekä tallenna
tekemäsi muutokset. <envar>EDITOR</envar>-ympäristömuuttujan on
syytä olla kunnossa, jotta voit käyttää tuttua
editoria. Tämän jälkeen tarvitset vielä
ao. määritykset dokumenttiisi, jotta ääkköset
ja suomenkielinen tavutus toimisi.

<screen>
	\usepackage[latin1]{inputenc}
	\usepackage[T1]{fontenc}
	\usepackage[finnish]{babel}
</screen>
</para>

<sect3>
<title>Desimaalipilkku</title>

<para>
<ulink url="http://groups.google.fi/groups?th=cadd89cdb7fee4f">Nyyssiartikkelissa</ulink>
annetaan seuraava ohje, jolla desimaalipilkun saa toimimaan.

<screen>
\documentclass{article}
\usepackage{t1enc}
\usepackage{a4}
\usepackage[finnish]{babel}
\DeclareMathSymbol{,}{\mathpunct}{letters}{"3B}
\DeclareMathSymbol{.}{\mathord}{letters}{"3B}
\DeclareMathSymbol{\decimal}{\mathord}{letters}{"3A}

\begin{document}
   Ajatellaan, että $f(x, y, z) = 3.333$. Mitäs sitten?
\end{document}
</screen>
</para>
</sect3>

<sect3>
<title>LaTeX-ohjeita</title>
<para>
Lisätietoja dokumentista <ulink url="ftp://ftp.funet.fi/pub/TeX/CTAN/documentation/lshort/finnish/lyhyt2e.pdf">Pitkänpuoleinen johdanto LaTeX2e:n käyttöön
</ulink>
</para>
</sect3>

</sect2>

<sect2 id="tin">
<title>tin</title>

<para>
Lisää <filename>~/.tin/headers</filename>-tiedostoon rivit
</para>

<screen>
	Mime-Version: 1.0
	Content-Type: text/plain; charset=iso-8859-1
	Content-Transfer-Encoding: 8bit
</screen>

</sect2>

</sect1>

<sect1 id="recode">
<title>Tekstitiedostoformaatit muilla alustoilla</title>

<para>
ISO-8859-1 -tekstitiedostoja voidaan muuttaa esimerkiksi
DOS-tekstitiedostoiksi käyttämällä <command>recode</command>-ohjelmaa 
koodisivulla 850. Esimerkiksi DOS-tiedosto foo.txt muutetaan 
unix-tekstitiedostoksi käskyllä
<command>
	recode cp850:latin1 foo.txt
</command>
recode on saatavissa Debian GNU/Linuxiin pakettina ja kaikista GNU
ftp-arkistoista. 
</para>
</sect1>

</chapter>

&ch-locales;

</book>
